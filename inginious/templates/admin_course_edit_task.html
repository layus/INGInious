$def with (course,taskid,task_data,environments,problemdump,contains_is_html,current_filetype,available_filetypes,AccessibleTime)

$# Copyright (c) 2014 Universit√© Catholique de Louvain.
$#
$# This file is part of INGInious.
$#
$# INGInious is free software: you can redistribute it and/or modify
$# it under the terms of the GNU Affero General Public License as published
$# by the Free Software Foundation, either version 3 of the License, or
$# (at your option) any later version.
$#
$# INGInious is distributed in the hope that it will be useful,
$# but WITHOUT ANY WARRANTY; without even the implied warranty of
$# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
$# GNU Affero General Public License for more details.
$#
$# You should have received a copy of the GNU Affero General Public
$# License along with INGInious.  If not, see <http://www.gnu.org/licenses/>.

$var title: Edit $taskid

$def ColumnF():
    <div id="task_edit_submit_status"></div>
    <button class="btn btn-primary btn-block" id="task_edit_submit_button" type="button" onclick="studio_submit()"><span class="glyphicon glyphicon-download-alt"></span> Submit</button>
    <h4>Shortcuts</h4>
    <div class="list-group">
        <a href="#general_informations" class="list-group-item">General informations</a>
        <a href="#virtual_machine_setup" class="list-group-item">Virtual machine setup</a>
        <a href="#subproblems" class="list-group-item">Subproblems</a>
        <a href="#new_subproblem" class="list-group-item">New subproblem</a>
        <a href="#task_files" class="list-group-item">Task files</a>
    </div>
    $:template_helper.call('course_admin_menu',course=course,current='tasks')
$var Column: $:ColumnF()

<ol class="breadcrumb">
  <li><a href="/index">Home</a></li>
  <li><a href="/course/$course.get_id()">$course.get_name()</a></li>
  <li><a href="/admin/$course.get_id()">Manage</a></li>
  <li><a href="/admin/$course.get_id()/tasks">Tasks</a></li>
  <li class="active">Edit task "$taskid"</li>
</ol>

<h2>Edit task "$taskid"</h2>
<form id="edit_task_form" action="/admin/${course.get_id()}/edit/$taskid" method="post" enctype="multipart/form-data" class="form-horizontal">
    <h3 id="general_informations">General informations</h3>
    <input type="hidden" name="@action" value="edit_task"/>
    <div class="form-group">
        <label for="name" class="col-sm-2 control-label">Name</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="name" name="name" placeholder="title for this task" value="${task_data.get('name','')}">
        </div>
    </div>
    <div class="form-group">
        <label for="name" class="col-sm-2 control-label">Filetype</label>
        <div class="col-sm-10">
            <select class="form-control" id="@filetype" name="@filetype">
                $for type in available_filetypes:
                    <option value="$type"
                        $if type == current_filetype:
                            selected="selected"
                    >$type</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="context" class="col-sm-2 control-label">Context</label>
        <div class="col-sm-10">
            <textarea rows="10" class="form-control" id="context" name="context" placeholder="A description of what the student will have to do in this task">${task_data.get('context','')}</textarea>
        </div>
    </div>
    $if contains_is_html:
        <div class="form-group">
            <label for="contextIsHTML" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
            <div class="col-sm-10">
                <div class="checkbox"><label>
                    <input type="checkbox" id="contextIsHTML" name="contextIsHTML"
                        $if task_data.get('contextIsHTML',False):
                            checked="checked"
                    />&nbsp;
                </label></div>
            </div>
        </div>
    <div class="form-group">
        <label for="author" class="col-sm-2 control-label">Author</label>
        <div class="col-sm-10">
            $if isinstance(task_data.get('author',[]),list):
                $ a=', '.join(task_data.get('author',[]))
            $else:
                $ a=task_data.get('author',[])
            <input type="text" class="form-control" id="author" name="author" placeholder="Your name" value="$a"/>
        </div>
    </div>
    <div class="form-group">
        <label for="accessible" class="col-sm-2 control-label">Accessible</label>
        <div class="col-sm-10">
            <label>
                <input type="radio" value="false" name="accessible"
                    $if task_data.get('accessible',True) == False:
                        checked="checked"
                /> Never
            </label><br/>
            <label>
                <input type="radio" value="true" name="accessible"
                    $if task_data.get('accessible',True) == True:
                        checked="checked"
                /> Always
            </label><br/>
            <label>
                <input type="radio" value="custom" name="accessible"
                    $if task_data.get('accessible',True) not in [True, False]:
                        checked="checked"
                /> Custom:
            </label>
            $ at = AccessibleTime(task_data.get('accessible',True))
            <div class="row">
                <div class="col-xs-2 col-lg-2"><label class="control-label">From</label></div>
                <div class="col-xs-10 col-lg-4">
                    <div class='input-group date' id='accessible_start_picker'>
                        <input name="accessible_start" data-date-format="YYYY-MM-DD HH:mm:ss" value="${at.get_std_start_date()}" placeholder="2014-06-29 10:00" type='text' class="form-control" />
                        <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                    </div>
                </div>
                <div class="col-xs-2 col-lg-2"><label class="control-label">To</label></div>
                <div class="col-xs-10 col-lg-4">
                    <div class='input-group date' id='accessible_end_picker'>
                        <input name="accessible_end" data-date-format="YYYY-MM-DD HH:mm:ss" value="${at.get_std_end_date()}" placeholder="2014-06-29 10:00" type='text' class="form-control" />
                        <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                \$(function() {
                    \$('#accessible_start_picker').datetimepicker({useSeconds: true,sideBySide: true});
                    \$('#accessible_end_picker').datetimepicker({useSeconds: true,sideBySide: true});
                });
            </script>
        </div>
    </div>
    <h3 id="virtual_machine_setup">Virtual machine setup</h3>
    <div class="form-group">
        <label for="limit-time" class="col-sm-2 control-label">Timeout limit (in seconds)</label>
        <div class="col-sm-10">
            <input type="number" class="form-control" id="limit-time" name="limits[time]" placeholder="30" value="${task_data.get('limits',{}).get('time',30)}"/>
        </div>
    </div>
    <div class="form-group">
        <label for="limit-memory" class="col-sm-2 control-label">Memory limit (in megabytes)</label>
        <div class="col-sm-10">
            <input type="number" class="form-control" id="limit-memory" name="limits[memory]" placeholder="30" value="${task_data.get('limits',{}).get('memory',100)}"/>
        </div>
    </div>
    <div class="form-group">
        <label for="limit-output" class="col-sm-2 control-label">Output limit (in megabytes)</label>
        <div class="col-sm-10">
            <input type="number" class="form-control" id="limit-output" name="limits[output]" placeholder="2" value="${task_data.get('limits',{}).get('output',2)}"/>
        </div>
    </div>
    <div class="form-group">
        <label for="environment" class="col-sm-2 control-label">Environment</label>
        <div class="col-sm-10">
            <select id="environment" class="form-control" name="environment">
                $for env in environments:
                    <option value="$env"
                        $if env == task_data.get('environment'):
                            selected="selected"
                    >$env</option>
            </select>
        </div>
    </div>
    $if contains_is_html:
        <div class="form-group">
            <label for="responseIsHTML" class="col-sm-2 control-label">Are the task's responses written in HTML instead of restructuredText?</label>
            <div class="col-sm-10">
                <div class="checkbox"><label>
                    <input type="checkbox" id="responseIsHTML" name="responseIsHTML"
                        $if task_data.get('responseIsHTML',False):
                            checked="checked"
                    />&nbsp;
                </label></div>
            </div>
        </div>
    <h3 id="subproblems">Subproblems</h3>
    <div class="row" id="new_subproblem">
        <div class="form-group">
            <label for="new_subproblem_pid" class="col-sm-2 control-label">New problem id</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="new_subproblem_pid" value="" placeholder="new-problem-id"/>
            </div>
            <label for="new_subproblem_type" class="col-sm-2 control-label">problem type</label>
            <div class="col-sm-3">
                <select class="form-control" id="new_subproblem_type">
                    <option value="subproblem_code">code</option>
                    <option value="subproblem_code_file">file upload</option>
                    <option value="subproblem_match">match</option>
                    <option value="subproblem_multiple_choice">multiple choice</option>
                    <option value="subproblem_custom">custom</option>
                </select>
            </div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-primary btn-block" onclick="studio_create_new_subproblem()">Add subproblem</button>
            </div>
        </div>
    </div>
    <h3 id="task_files">Task files</h3>
    <a href="/admin/${course.get_id()}/files/$taskid" class="btn btn-info center-block">Download existing files</a>
    <br/>
    <br/>
    <p>
        You can upload here a .zip file containing files for this task. <b>Files contained in this zip file will replace all existing files</b>.<br/>
        <b>This action is irreversible.</b><br/>
        <br/>
        If you do not upload any file, no actions will be done and the existing files will be kept.
    </p>
    <p class="text-center">
        <input type="file" name="task_file"/>
    </p>
</form>



<!-- these divs are templates used by the javascript code to display problems -->
<div id="subproblem_templates" style="display:none">
    <div id="subproblem_code">
        <div class="well row" id="subproblem_well_PID">
            <input type="hidden" class="subproblem_order" name="problem[PID][@order]" value="ORDER"/>
            <div class="form-group">
                <label for="pid-PID" class="col-sm-2 control-label">Problem id</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="pid-PID" disabled="disabled" value="PID"/>
                </div>
            </div>
            <div class="form-group">
                <label for="name-PID" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="name-PID" name="problem[PID][name]" placeholder="A title for this question"/>
                </div>
            </div>
            <div class="form-group">
                <label for="header-PID" class="col-sm-2 control-label">Context</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="header-PID" name="problem[PID][header]" placeholder="A description of what the student will have to do in this subproblem"></textarea>
                </div>
            </div>
            $if contains_is_html:
                <div class="form-group">
                    <label for="headerIsHTML-PID" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
                    <div class="col-sm-10">
                        <div class="checkbox"><label>
                            <input type="checkbox" id="headerIsHTML-PID" name="problem[PID][headerIsHTML]"/>&nbsp;
                        </label></div>
                    </div>
                </div>
            <div class="form-group">
                <label for="language-PID" class="col-sm-2 control-label">Language</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="language-PID" name="problem[PID][language]" placeholder="Language used in this question (c/c++/java/python/oz/...)"/>
                </div>
            </div>
            <div class="form-group">
                <label for="type-PID" class="col-sm-2 control-label">Type</label>
                <div class="col-sm-10">
                    <select class="form-control" id="type-PID" name="problem[PID][type]">
                        <option value="code">Multiline code</option>
                        <option value="code-single-line">Single-line code</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_subproblem_delete('PID')"><span class="glyphicon glyphicon-remove-sign"></span> Delete subproblem</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_up('PID')"><span class="glyphicon glyphicon-arrow-up"></span> Up</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_down('PID')"><span class="glyphicon glyphicon-arrow-down"></span> Down</button>
                </div>
            </div>
        </div>
    </div>
    <div id="subproblem_code_file">
        <div class="well row" id="subproblem_well_PID">
            <input type="hidden" class="subproblem_order" name="problem[PID][@order]" value="ORDER"/>
            <div class="form-group">
                <label for="pid-PID" class="col-sm-2 control-label">Problem id</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="pid-PID" disabled="disabled" value="PID"/>
                </div>
            </div>
            <div class="form-group">
                <label for="name-PID" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="name-PID" name="problem[PID][name]" placeholder="A title for this question"/>
                </div>
            </div>
            <div class="form-group">
                <label for="header-PID" class="col-sm-2 control-label">Context</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="header-PID" name="problem[PID][header]" placeholder="A description of what the student will have to do in this subproblem"></textarea>
                </div>
            </div>
            $if contains_is_html:
                <div class="form-group">
                    <label for="headerIsHTML-PID" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
                    <div class="col-sm-10">
                        <div class="checkbox"><label>
                            <input type="checkbox" id="headerIsHTML-PID" name="problem[PID][headerIsHTML]"/>&nbsp;
                        </label></div>
                    </div>
                </div>
            <div class="form-group">
                <label for="extensions-PID" class="col-sm-2 control-label">Allowed file extensions (including the dot, separated by spaces)</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="extensions-PID" name="problem[PID][allowed_exts]" placeholder=".txt,.zip,.gz"/>
                </div>
            </div>
            <div class="form-group">
                <label for="maxsize-PID" class="col-sm-2 control-label">Maximum file size (in bytes)</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="maxsize-PID" name="problem[PID][max_size]" placeholder="1000000"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Type</label>
                <div class="col-sm-10">
                    <select class="form-control" disabled="disabled">
                        <option value="code-file">File upload</option>
                    </select>
                    <input type="hidden" name="problem[PID][type]" value="code-file"/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_subproblem_delete('PID')"><span class="glyphicon glyphicon-remove-sign"></span> Delete subproblem</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_up('PID')"><span class="glyphicon glyphicon-arrow-up"></span> Up</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_down('PID')"><span class="glyphicon glyphicon-arrow-down"></span> Down</button>
                </div>
            </div>
        </div>
    </div>
    <div id="subproblem_match">
        <div class="well row" id="subproblem_well_PID">
            <input type="hidden" name="problem[PID][type]" value="match"/>
            <input type="hidden" class="subproblem_order" name="problem[PID][@order]" value="ORDER"/>
            <div class="form-group">
                <label for="pid-PID" class="col-sm-2 control-label">Problem id</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="pid-PID" disabled="disabled" value="PID"/>
                </div>
            </div>
            <div class="form-group">
                <label for="name-PID" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="name-PID" name="problem[PID][name]" placeholder="A title for this question"/>
                </div>
            </div>
            <div class="form-group">
                <label for="header-PID" class="col-sm-2 control-label">Context</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="header-PID" name="problem[PID][header]" placeholder="A description of what the student will have to do in this subproblem"></textarea>
                </div>
            </div>
            $if contains_is_html:
                <div class="form-group">
                    <label for="headerIsHTML-PID" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
                    <div class="col-sm-10">
                        <div class="checkbox"><label>
                            <input type="checkbox" id="headerIsHTML-PID" name="problem[PID][headerIsHTML]"/>&nbsp;
                        </label></div>
                    </div>
                </div>
            <div class="form-group">
                <label for="answer-PID" class="col-sm-2 control-label">Answer</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="answer-PID" name="problem[PID][answer]" placeholder="Answer of this question"/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_subproblem_delete('PID')"><span class="glyphicon glyphicon-remove-sign"></span> Delete subproblem</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_up('PID')"><span class="glyphicon glyphicon-arrow-up"></span> Up</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_down('PID')"><span class="glyphicon glyphicon-arrow-down"></span> Down</button>
                </div>
            </div>
        </div>
    </div>
    <div id="subproblem_multiple_choice">
        <div class="well row" id="subproblem_well_PID">
            <input type="hidden" name="problem[PID][type]" value="multiple-choice"/>
            <input type="hidden" class="subproblem_order" name="problem[PID][@order]" value="ORDER"/>
            <div class="form-group">
                <label for="pid-PID" class="col-sm-2 control-label">Problem id</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="pid-PID" disabled="disabled" value="PID"/>
                </div>
            </div>
            <div class="form-group">
                <label for="name-PID" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="name-PID" name="problem[PID][name]" placeholder="A title for this question"/>
                </div>
            </div>
            <div class="form-group">
                <label for="header-PID" class="col-sm-2 control-label">Context</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="header-PID" name="problem[PID][header]" placeholder="A description of what the student will have to do in this subproblem"></textarea>
                </div>
            </div>
            $if contains_is_html:
                <div class="form-group">
                    <label for="headerIsHTML-PID" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
                    <div class="col-sm-10">
                        <div class="checkbox"><label>
                            <input type="checkbox" id="headerIsHTML-PID" name="problem[PID][headerIsHTML]"/>&nbsp;
                        </label></div>
                    </div>
                </div>
            <div class="form-group">
                <label for="multiple-PID" class="col-sm-2 control-label">Can select multiple answers</label>
                <div class="col-sm-10">
                    <div class="checkbox"><label>
                        <input type="checkbox" id="multiple-PID" name="problem[PID][multiple]"/>&nbsp;
                    </label></div>
                </div>
            </div>
            <div class="form-group">
                <label for="centralize-PID" class="col-sm-2 control-label">Display error message at the top of the page instead of above this subproblem?</label>
                <div class="col-sm-10">
                    <div class="checkbox"><label>
                        <input type="checkbox" id="centralize-PID" name="problem[PID][centralize]"/>&nbsp;
                    </label></div>
                </div>
            </div>
            <div class="form-group">
                <label for="limit-PID" class="col-sm-2 control-label">Number of choices to display (0 = all choices)</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="limit-PID" name="problem[PID][limit]" placeholder="0"/>
                </div>
            </div>
            <div class="form-group">
                <label for="choices-PID" class="col-sm-2 control-label">Choices</label>
                <div class="col-sm-10">
                    <table id="choices-PID" class="table table-condensed table-striped">
                        <tr>
                            <th>Choice</th>
                            $if contains_is_html:
                                <th>Is text written in HTML instead of RST?</th>
                            <th>Valid?</th>
                            <th></th>
                        </tr>
                        <tr id="add-choices-PID">
                            <td colspan="3"><button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_create_choice('PID',{})"><span class="glyphicon glyphicon-add-sign"></span> Add new choice</button></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_subproblem_delete('PID')"><span class="glyphicon glyphicon-remove-sign"></span> Delete subproblem</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_up('PID')"><span class="glyphicon glyphicon-arrow-up"></span> Up</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_down('PID')"><span class="glyphicon glyphicon-arrow-down"></span> Down</button>
                </div>
            </div>
        </div>
    </div>
    <table>
        <tr id="subproblem_multiple_choice_choice">
            <td>
                <textarea class="form-control subproblem_multiple_choice_text" name="problem[PID][choices][CHOICE][text]" placeholder="The name of this choice"></textarea>
            </td>
            $if contains_is_html:
                <td>
                    <div class="checkbox"><label>
                        <input type="checkbox" class="subproblem_multiple_choice_html" name="problem[PID][choices][CHOICE][textIsHTML]"/>&nbsp;
                    </label></div>
                </td>
            <td>
                <div class="checkbox"><label>
                    <input type="checkbox" class="subproblem_multiple_choice_valid" name="problem[PID][choices][CHOICE][valid]"/>&nbsp;
                </label></div>
            </td>
            <td>
                <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_delete_choice('PID',CHOICE)"><span class="glyphicon glyphicon-remove-sign"></span> Delete</button>
            </td>
        </tr>
    </table>
    <div id="subproblem_custom">
        <div class="well row" id="subproblem_well_PID">
            <input type="hidden" name="problem[PID][type]" value="custom"/>
            <input type="hidden" class="subproblem_order" name="problem[PID][@order]" value="ORDER"/>
            
            <div class="form-group">
                <label for="pid-PID" class="col-sm-2 control-label">Problem id</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="pid-PID" disabled="disabled" value="PID"/>
                </div>
            </div>
            <div class="form-group">
                <label for="name-PID" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="name-PID" name="problem[PID][name]" placeholder="A title for this question"/>
                </div>
            </div>
            <div class="form-group">
                <label for="header-PID" class="col-sm-2 control-label">Context</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="header-PID" name="problem[PID][header]" placeholder="A description of what the student will have to do in this subproblem"></textarea>
                </div>
            </div>
            $if contains_is_html:
                <div class="form-group">
                    <label for="headerIsHTML-PID" class="col-sm-2 control-label">Is context written in HTML instead of restructuredText?</label>
                    <div class="col-sm-10">
                        <div class="checkbox"><label>
                            <input type="checkbox" id="headerIsHTML-PID" name="problem[PID][headerIsHTML]"/>&nbsp;
                        </label></div>
                    </div>
                </div>
            <div class="form-group">
                <label for="custom-PID" class="col-sm-2 control-label">Custom data (JSON)</label>
                <div class="col-sm-10">
                    <textarea rows="10" class="form-control" id="custom-PID" name="problem[PID][custom]" placeholder="{}"></textarea>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-danger btn-sm btn-block" type="button" onclick="studio_subproblem_delete('PID')"><span class="glyphicon glyphicon-remove-sign"></span> Delete subproblem</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_up('PID')"><span class="glyphicon glyphicon-arrow-up"></span> Up</button>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-info btn-sm btn-block" type="button" onclick="studio_subproblem_down('PID')"><span class="glyphicon glyphicon-arrow-down"></span> Down</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- init -->
<script type="text/javascript">
	problem_data = $:{problemdump};
	\$ (function(){ studio_load(problem_data); });
</script>